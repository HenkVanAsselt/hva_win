<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>HVA-WIN: funkey.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>funkey.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;conio.h&gt;</code><br>
<code>#include &lt;ctype.h&gt;</code><br>
<code>#include &lt;dos.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &quot;<a class="el" href="keys_8h-source.html">keys.h</a>&quot;</code><br>
<code>#include &quot;video/v_video.h&quot;</code><br>
<code>#include &quot;<a class="el" href="window_8h-source.html">window.h</a>&quot;</code><br>

<p>
<a href="funkey_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_f_u_n_c_t_i_o_n___h_a_n_d_l_e_r.html">FUNCTION_HANDLER</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#d4535da47d531a01af51f8e1f668f71b">func_index</a> (int function_key)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#725f0cac5cb693076b7811c887e733b4">init_funkey</a> (int function_key, void *function, char *text)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#f91392e8cfb8d94ac95b3de6bd0da109">do_funkey</a> (int key)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#6cc6361e13b96d7a3cbea9dcea7f6cdb">disp_funkeys</a> (int i)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#a9e306422f02788dedff0bf33296e7cc">exit_funkey</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">SCREEN&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#8573f78b328d6c8a4ab7f64db3ce1c45">_cursvar</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structwcb.html">WINDOW</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a> = NULL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="struct_f_u_n_c_t_i_o_n___h_a_n_d_l_e_r.html">FUNCTION_HANDLER</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#2671827b6c4d9797278dee2e726ca446">funkey</a> [40]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="funkey_8c.html#1885434eb8cac868c4cb88426049e3f0">show_funkeys</a> = FALSE</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="6cc6361e13b96d7a3cbea9dcea7f6cdb"></a><!-- doxytag: member="funkey.c::disp_funkeys" ref="6cc6361e13b96d7a3cbea9dcea7f6cdb" args="(int i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disp_funkeys           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="funkey_8c-source.html#l00205">205</a> of file <a class="el" href="funkey_8c-source.html">funkey.c</a>.</p>

<p>References <a class="el" href="appl_8c.html#8573f78b328d6c8a4ab7f64db3ce1c45">_cursvar</a>, <a class="el" href="window_8h.html#b66205319a0b6e2ba7deb80d7211ff04">_menu_att</a>, <a class="el" href="window_8h.html#4bf4b89ae0836cff55525f9dbc0a45a1">_menu_hotkey</a>, <a class="el" href="window_8h-source.html#l00085">_NO_BORDER</a>, <a class="el" href="dir_8c-source.html#l00040">col</a>, <a class="el" href="4dos_8c-source.html#l00008">FALSE</a>, <a class="el" href="dir_8c-source.html#l00039">row</a>, <a class="el" href="funkey_8c-source.html#l00054">show_funkeys</a>, <a class="el" href="4dos_8c-source.html#l00009">TRUE</a>, <a class="el" href="wn__clear_8c-source.html#l00025">wn_clear()</a>, <a class="el" href="window_8c-source.html#l00218">wn_hide()</a>, <a class="el" href="wn__loc_8c-source.html#l00021">wn_locate()</a>, <a class="el" href="wn__log_8c-source.html#l00068">wn_log()</a>, <a class="el" href="window_8c-source.html#l00667">wn_open()</a>, <a class="el" href="window_8h.html#2d6ad4e99d2d92e976658225ba7a5565">wn_printf()</a>, <a class="el" href="window_8c-source.html#l00493">wn_setone()</a>, and <a class="el" href="window_8c-source.html#l00240">wn_unhide()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00206"></a>00206 {
<a name="l00207"></a>00207   <span class="keywordtype">int</span> j;
<a name="l00208"></a>00208   <span class="keywordtype">int</span> <a class="code" href="dir_8c.html#f1d3cff2e4538e23400e260bae3dadad">row</a>,<a class="code" href="dir_8c.html#fb52e720f5f0c483db5861f9e42e924e">col</a>;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210   <a class="code" href="funkey_8c.html#1885434eb8cac868c4cb88426049e3f0">show_funkeys</a> = <a class="code" href="4dos_8c.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212   <span class="keywordflow">if</span> (i&lt;0 || i&gt;4)
<a name="l00213"></a>00213   {
<a name="l00214"></a>00214     <a class="code" href="window_8h.html#fe8d4f2504094ff6d3e433214a324fe0">wn_log</a>(<span class="stringliteral">"wrong index %d in disp_funkeys\n"</span>,i);
<a name="l00215"></a>00215     i = 1;
<a name="l00216"></a>00216   }
<a name="l00217"></a>00217 
<a name="l00218"></a>00218   <span class="comment">/*--------------------------------------</span>
<a name="l00219"></a>00219 <span class="comment">    Check if we have to open a window for</span>
<a name="l00220"></a>00220 <span class="comment">    the function keys, or if this window</span>
<a name="l00221"></a>00221 <span class="comment">    has already been opened.</span>
<a name="l00222"></a>00222 <span class="comment">    The window will occupy the last row on</span>
<a name="l00223"></a>00223 <span class="comment">    the screen with a full length</span>
<a name="l00224"></a>00224 <span class="comment">  ----------------------------------------*/</span>
<a name="l00225"></a>00225   <span class="keywordflow">if</span> (!<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>)
<a name="l00226"></a>00226   {
<a name="l00227"></a>00227     <a class="code" href="window_8h.html#fe8d4f2504094ff6d3e433214a324fe0">wn_log</a>(<span class="stringliteral">"*** START FUNKEY\n"</span>);
<a name="l00228"></a>00228     <a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a> = <a class="code" href="window_8c.html#d1ddc54b76a18f41e2aeb897e8ac4a71">wn_open</a>(<a class="code" href="window_8h.html#50ef1b505da36053c2c41333a89ece6d">_NO_BORDER</a>,<a class="code" href="appl_8c.html#8573f78b328d6c8a4ab7f64db3ce1c45">_cursvar</a>.lines,0,<a class="code" href="appl_8c.html#8573f78b328d6c8a4ab7f64db3ce1c45">_cursvar</a>.cols+1,1,_menu_att,_menu_att);
<a name="l00229"></a>00229     <a class="code" href="window_8h.html#2771a71e9c3c0b4aff6dd2966519b82e">wn_clear</a>(<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>);
<a name="l00230"></a>00230   }
<a name="l00231"></a>00231 
<a name="l00232"></a>00232   <span class="comment">/*------------------------------------------------</span>
<a name="l00233"></a>00233 <span class="comment">    Check if user wants to hide function key labels</span>
<a name="l00234"></a>00234 <span class="comment">    or to display it</span>
<a name="l00235"></a>00235 <span class="comment">  --------------------------------------------------*/</span>
<a name="l00236"></a>00236   <span class="keywordflow">if</span> (i==0)
<a name="l00237"></a>00237   {
<a name="l00238"></a>00238     <a class="code" href="funkey_8c.html#1885434eb8cac868c4cb88426049e3f0">show_funkeys</a> = <a class="code" href="4dos_8c.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00239"></a>00239     <a class="code" href="window_8c.html#83d79805ed6b09849c1345ebafb46104">wn_hide</a>(<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>);
<a name="l00240"></a>00240     <span class="keywordflow">return</span>;
<a name="l00241"></a>00241   }
<a name="l00242"></a>00242   <span class="keywordflow">else</span> {
<a name="l00243"></a>00243     <span class="keywordflow">if</span> (<a class="code" href="funkey_8c.html#1885434eb8cac868c4cb88426049e3f0">show_funkeys</a> == <a class="code" href="4dos_8c.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {
<a name="l00244"></a>00244       <a class="code" href="funkey_8c.html#1885434eb8cac868c4cb88426049e3f0">show_funkeys</a> = <a class="code" href="4dos_8c.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00245"></a>00245       <span class="keywordflow">if</span> (<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>)
<a name="l00246"></a>00246         <a class="code" href="window_8c.html#7b681dbd1d7921848e18edb4cbcf5b8c">wn_unhide</a>(<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>);
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248   }
<a name="l00249"></a>00249 
<a name="l00250"></a>00250   <span class="comment">/*-------------------------</span>
<a name="l00251"></a>00251 <span class="comment">    Print the function keys</span>
<a name="l00252"></a>00252 <span class="comment">  --------------------------*/</span>
<a name="l00253"></a>00253   row = 0;
<a name="l00254"></a>00254   col = 0;
<a name="l00255"></a>00255   <span class="keywordflow">for</span> (j = 0 ; j&lt;10 ; j++)
<a name="l00256"></a>00256   {
<a name="l00257"></a>00257     <a class="code" href="window_8h.html#13cebd785636ae2168a46520c9ca50c2">wn_locate</a>(<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>,row,col);
<a name="l00258"></a>00258     <span class="keywordflow">if</span> (<a class="code" href="funkey_8c.html#2671827b6c4d9797278dee2e726ca446">funkey</a>[j].text) {
<a name="l00259"></a>00259       <a class="code" href="window_8h.html#2d6ad4e99d2d92e976658225ba7a5565">wn_printf</a>(<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>,<span class="stringliteral">"%1d%-6.6s"</span>,j+1,<a class="code" href="funkey_8c.html#2671827b6c4d9797278dee2e726ca446">funkey</a>[j].text);
<a name="l00260"></a>00260       <a class="code" href="window_8c.html#69200e4cc96434712cdb487ed16f13df">wn_setone</a>(<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>,row,col,_menu_hotkey);
<a name="l00261"></a>00261       <span class="keywordflow">if</span> (j==9)
<a name="l00262"></a>00262        <a class="code" href="window_8c.html#69200e4cc96434712cdb487ed16f13df">wn_setone</a>(<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>,row,col+1,_menu_hotkey);
<a name="l00263"></a>00263     }
<a name="l00264"></a>00264     col+=7;
<a name="l00265"></a>00265   }
<a name="l00266"></a>00266 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f91392e8cfb8d94ac95b3de6bd0da109"></a><!-- doxytag: member="funkey.c::do_funkey" ref="f91392e8cfb8d94ac95b3de6bd0da109" args="(int key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int do_funkey           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>key</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="funkey_8c-source.html#l00173">173</a> of file <a class="el" href="funkey_8c-source.html">funkey.c</a>.</p>

<p>References <a class="el" href="funkey_8c-source.html#l00071">func_index()</a>, <a class="el" href="keys_8c-source.html#l00055">is_fkey()</a>, and <a class="el" href="wn__log_8c-source.html#l00068">wn_log()</a>.</p>

<p>Referenced by <a class="el" href="popup_8c-source.html#l00112">popup()</a>, and <a class="el" href="pulldown_8c-source.html#l00092">pulldown()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00174"></a>00174 {
<a name="l00175"></a>00175   <span class="keywordtype">int</span> ndx;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177   <a class="code" href="window_8h.html#fe8d4f2504094ff6d3e433214a324fe0">wn_log</a>(<span class="stringliteral">"do_funkey(key=%2d)\n"</span>);
<a name="l00178"></a>00178 
<a name="l00179"></a>00179   <span class="keywordflow">if</span> (<a class="code" href="keys_8c.html#ec781f8aa4d29c408a105f3bf9cf8486">is_fkey</a>(key)) {
<a name="l00180"></a>00180     ndx = <a class="code" href="funkey_8c.html#d4535da47d531a01af51f8e1f668f71b">func_index</a>(key);                <span class="comment">/* Find array index       */</span>
<a name="l00181"></a>00181     <span class="keywordflow">if</span> (<a class="code" href="funkey_8c.html#2671827b6c4d9797278dee2e726ca446">funkey</a>[ndx].function) {           <span class="comment">/* If function defined    */</span>
<a name="l00182"></a>00182       (*(<a class="code" href="window_8h.html#80937367c25c0da8073d154502cf6310">PFI</a>)(<a class="code" href="funkey_8c.html#2671827b6c4d9797278dee2e726ca446">funkey</a>[ndx].function))();   <span class="comment">/* then execute function  */</span>
<a name="l00183"></a>00183       <span class="keywordflow">return</span>(0);
<a name="l00184"></a>00184     }
<a name="l00185"></a>00185     <span class="keywordflow">else</span>
<a name="l00186"></a>00186       <span class="keywordflow">return</span>(key);
<a name="l00187"></a>00187   }
<a name="l00188"></a>00188   <span class="keywordflow">else</span>
<a name="l00189"></a>00189     <span class="keywordflow">return</span>(key);
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a9e306422f02788dedff0bf33296e7cc"></a><!-- doxytag: member="funkey.c::exit_funkey" ref="a9e306422f02788dedff0bf33296e7cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exit_funkey           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="funkey_8c-source.html#l00275">275</a> of file <a class="el" href="funkey_8c-source.html">funkey.c</a>.</p>

<p>References <a class="el" href="window_8c-source.html#l00821">wn_close()</a>, and <a class="el" href="wn__log_8c-source.html#l00068">wn_log()</a>.</p>

<p>Referenced by <a class="el" href="window_8c-source.html#l00930">wn_exit()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00276"></a>00276 {
<a name="l00277"></a>00277   <span class="keywordflow">if</span> (<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>)
<a name="l00278"></a>00278   {
<a name="l00279"></a>00279     <a class="code" href="window_8h.html#fe8d4f2504094ff6d3e433214a324fe0">wn_log</a>(<span class="stringliteral">"*** END FUNKEY\n"</span>);
<a name="l00280"></a>00280     <a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a> = <a class="code" href="window_8c.html#66cf8230f2298dcc91a3d8ce52bd4475">wn_close</a>(<a class="code" href="editstr_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a>);
<a name="l00281"></a>00281   }
<a name="l00282"></a>00282 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d4535da47d531a01af51f8e1f668f71b"></a><!-- doxytag: member="funkey.c::func_index" ref="d4535da47d531a01af51f8e1f668f71b" args="(int function_key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int func_index           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>function_key</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="funkey_8c-source.html#l00071">71</a> of file <a class="el" href="funkey_8c-source.html">funkey.c</a>.</p>

<p>References <a class="el" href="keys_8h-source.html#l00099">ALT_F1</a>, <a class="el" href="keys_8h-source.html#l00108">ALT_F10</a>, <a class="el" href="keys_8h-source.html#l00100">ALT_F2</a>, <a class="el" href="keys_8h-source.html#l00101">ALT_F3</a>, <a class="el" href="keys_8h-source.html#l00102">ALT_F4</a>, <a class="el" href="keys_8h-source.html#l00103">ALT_F5</a>, <a class="el" href="keys_8h-source.html#l00104">ALT_F6</a>, <a class="el" href="keys_8h-source.html#l00105">ALT_F7</a>, <a class="el" href="keys_8h-source.html#l00106">ALT_F8</a>, <a class="el" href="keys_8h-source.html#l00107">ALT_F9</a>, <a class="el" href="keys_8h-source.html#l00086">CTRL_F1</a>, <a class="el" href="keys_8h-source.html#l00095">CTRL_F10</a>, <a class="el" href="keys_8h-source.html#l00087">CTRL_F2</a>, <a class="el" href="keys_8h-source.html#l00088">CTRL_F3</a>, <a class="el" href="keys_8h-source.html#l00089">CTRL_F4</a>, <a class="el" href="keys_8h-source.html#l00090">CTRL_F5</a>, <a class="el" href="keys_8h-source.html#l00091">CTRL_F6</a>, <a class="el" href="keys_8h-source.html#l00092">CTRL_F7</a>, <a class="el" href="keys_8h-source.html#l00093">CTRL_F8</a>, <a class="el" href="keys_8h-source.html#l00094">CTRL_F9</a>, <a class="el" href="keys_8h-source.html#l00060">F1</a>, <a class="el" href="keys_8h-source.html#l00069">F10</a>, <a class="el" href="keys_8h-source.html#l00061">F2</a>, <a class="el" href="keys_8h-source.html#l00062">F3</a>, <a class="el" href="keys_8h-source.html#l00063">F4</a>, <a class="el" href="keys_8h-source.html#l00064">F5</a>, <a class="el" href="keys_8h-source.html#l00065">F6</a>, <a class="el" href="keys_8h-source.html#l00066">F7</a>, <a class="el" href="keys_8h-source.html#l00067">F8</a>, <a class="el" href="keys_8h-source.html#l00068">F9</a>, <a class="el" href="keys_8h-source.html#l00073">SHIFT_F1</a>, <a class="el" href="keys_8h-source.html#l00082">SHIFT_F10</a>, <a class="el" href="keys_8h-source.html#l00074">SHIFT_F2</a>, <a class="el" href="keys_8h-source.html#l00075">SHIFT_F3</a>, <a class="el" href="keys_8h-source.html#l00076">SHIFT_F4</a>, <a class="el" href="keys_8h-source.html#l00077">SHIFT_F5</a>, <a class="el" href="keys_8h-source.html#l00078">SHIFT_F6</a>, <a class="el" href="keys_8h-source.html#l00079">SHIFT_F7</a>, <a class="el" href="keys_8h-source.html#l00080">SHIFT_F8</a>, <a class="el" href="keys_8h-source.html#l00081">SHIFT_F9</a>, and <a class="el" href="wn__error_8c-source.html#l00016">wn_error()</a>.</p>

<p>Referenced by <a class="el" href="funkey_8c-source.html#l00173">do_funkey()</a>, and <a class="el" href="funkey_8c-source.html#l00146">init_funkey()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00072"></a>00072 {
<a name="l00073"></a>00073   <span class="keywordtype">int</span> ndx;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075   <span class="keywordflow">switch</span> (function_key)
<a name="l00076"></a>00076   {
<a name="l00077"></a>00077     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#54af470c198f3dbe32eede2c32f3d746">F1</a>:
<a name="l00078"></a>00078     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#5368759862ac5fb38772b91eace1205c">F2</a>:
<a name="l00079"></a>00079     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#79fc770a19406e6876ff9ffd6ce66f3d">F3</a>:
<a name="l00080"></a>00080     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#7fd7918aa90b0ce1dc7ca9fe7a00e9fb">F4</a>:
<a name="l00081"></a>00081     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#33a001184d6e389fd20132f7c21cf8ca">F5</a>:
<a name="l00082"></a>00082     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#dcc6c65566433e67172e375586cdb0f7">F6</a>:
<a name="l00083"></a>00083     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#7c9b5c379fad716fab5e7d1d6e627d6b">F7</a>:
<a name="l00084"></a>00084     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#ebf0bdb7cd47b4d4c612c2cadee1a743">F8</a>:
<a name="l00085"></a>00085     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#36ff4eb644bddf74a8ac0102ea21fb1e">F9</a>:
<a name="l00086"></a>00086     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#9ba8300113c516255f356f9bd121c518">F10</a>:
<a name="l00087"></a>00087       ndx = function_key-<a class="code" href="keys_8h.html#54af470c198f3dbe32eede2c32f3d746">F1</a>;
<a name="l00088"></a>00088       <span class="keywordflow">break</span>;
<a name="l00089"></a>00089 
<a name="l00090"></a>00090     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#1a86190463962e0f75f81f3d527a78f7">SHIFT_F1</a>:
<a name="l00091"></a>00091     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#5d320e642e311a721f0dfb16378f534a">SHIFT_F2</a>:
<a name="l00092"></a>00092     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#444f207e7c35f3907089280289a8be48">SHIFT_F3</a>:
<a name="l00093"></a>00093     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#4408efabb3f1a4b8e52a30010191d826">SHIFT_F4</a>:
<a name="l00094"></a>00094     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#ad3d548c7396e63c008bef1b6f27680e">SHIFT_F5</a>:
<a name="l00095"></a>00095     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#c790d88f4e621db4917d996352f44db5">SHIFT_F6</a>:
<a name="l00096"></a>00096     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#b26f43a5269d7e4b9fa4fb79d4f2c55d">SHIFT_F7</a>:
<a name="l00097"></a>00097     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#e3ff1df907660a278250e8b9820f15fb">SHIFT_F8</a>:
<a name="l00098"></a>00098     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#cb4449343d1de655e438413088b676fe">SHIFT_F9</a>:
<a name="l00099"></a>00099     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#43edf21e4044efd70866759f17c34e23">SHIFT_F10</a>:
<a name="l00100"></a>00100       ndx = function_key - <a class="code" href="keys_8h.html#1a86190463962e0f75f81f3d527a78f7">SHIFT_F1</a> + 10;
<a name="l00101"></a>00101       <span class="keywordflow">break</span>;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#0a8745a71f575230fc43c0ff32442647">CTRL_F1</a>:
<a name="l00104"></a>00104     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#2006ec0dfec171bb0b7470d3f97c4c4a">CTRL_F2</a>:
<a name="l00105"></a>00105     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#233fcd4065e8d03356879b5636876510">CTRL_F3</a>:
<a name="l00106"></a>00106     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#18e6d40daf568d8fb2f5b72e01f5cabe">CTRL_F4</a>:
<a name="l00107"></a>00107     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#c75a42c4cff559b2760448e9c32a54f4">CTRL_F5</a>:
<a name="l00108"></a>00108     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#976a88f1fdf2c3cbafe2a3726abaca0c">CTRL_F6</a>:
<a name="l00109"></a>00109     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#65141b4ab9dfc329b235e38c63d9197d">CTRL_F7</a>:
<a name="l00110"></a>00110     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#ac04cebd9b52eb87f4e8cd1b6994dc9c">CTRL_F8</a>:
<a name="l00111"></a>00111     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#315f8dda4ae59d004b3d2d5dc37f5898">CTRL_F9</a>:
<a name="l00112"></a>00112     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#1b2ffbb3450fa933fcccba008cdb8d34">CTRL_F10</a>:
<a name="l00113"></a>00113       ndx = function_key - <a class="code" href="keys_8h.html#0a8745a71f575230fc43c0ff32442647">CTRL_F1</a> + 20;
<a name="l00114"></a>00114       <span class="keywordflow">break</span>;
<a name="l00115"></a>00115 
<a name="l00116"></a>00116     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#8e915b7b2b801796ed5184ba60fdeec7">ALT_F1</a>:
<a name="l00117"></a>00117     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#7b5fbb3bbf213b1faed0cd7515d947a2">ALT_F2</a>:
<a name="l00118"></a>00118     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#19a20ad17257138b3cd97f1da2edc975">ALT_F3</a>:
<a name="l00119"></a>00119     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#ffe86a4505b30469539a8a8601338740">ALT_F4</a>:
<a name="l00120"></a>00120     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#e3416a35d19aed79bffea9532c5cc38b">ALT_F5</a>:
<a name="l00121"></a>00121     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#f63929c65dd7d54775869f0fbc6d05a0">ALT_F6</a>:
<a name="l00122"></a>00122     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#140a9b8463fdd03c342af48e7cdcf58e">ALT_F7</a>:
<a name="l00123"></a>00123     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#5bf883cf2d66bc70542ba072bbea955f">ALT_F8</a>:
<a name="l00124"></a>00124     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#b7995ce4392caee6cfb3603679dea358">ALT_F9</a>:
<a name="l00125"></a>00125     <span class="keywordflow">case</span> <a class="code" href="keys_8h.html#cca4824445df08bef92264cb0410ecad">ALT_F10</a>:
<a name="l00126"></a>00126       ndx = function_key - <a class="code" href="keys_8h.html#8e915b7b2b801796ed5184ba60fdeec7">ALT_F1</a> + 30;
<a name="l00127"></a>00127       <span class="keywordflow">break</span>;
<a name="l00128"></a>00128 
<a name="l00129"></a>00129     <span class="keywordflow">default</span>:
<a name="l00130"></a>00130 <span class="preprocessor">      #ifdef TESTING</span>
<a name="l00131"></a>00131 <span class="preprocessor"></span>        <a class="code" href="window_8h.html#e057cb905d61d5fa63d9cc0e5549f389">wn_error</a>(<span class="stringliteral">"Wrong function key %d in init_funct_Fx()"</span>,function_key);
<a name="l00132"></a>00132 <span class="preprocessor">      #endif</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span>      <span class="keywordflow">return</span>(-1);
<a name="l00134"></a>00134   }
<a name="l00135"></a>00135 
<a name="l00136"></a>00136   <span class="keywordflow">return</span>(ndx);
<a name="l00137"></a>00137 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="725f0cac5cb693076b7811c887e733b4"></a><!-- doxytag: member="funkey.c::init_funkey" ref="725f0cac5cb693076b7811c887e733b4" args="(int function_key, void *function, char *text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_funkey           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>function_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>text</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="funkey_8c-source.html#l00146">146</a> of file <a class="el" href="funkey_8c-source.html">funkey.c</a>.</p>

<p>References <a class="el" href="funkey_8c-source.html#l00071">func_index()</a>, <a class="el" href="funkey_8c-source.html#l00037">FUNCTION_HANDLER::function</a>, <a class="el" href="funkey_8c-source.html#l00038">FUNCTION_HANDLER::text</a>, and <a class="el" href="wn__log_8c-source.html#l00068">wn_log()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00147"></a>00147 {
<a name="l00148"></a>00148   <span class="keywordtype">int</span> ndx;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150   <a class="code" href="window_8h.html#fe8d4f2504094ff6d3e433214a324fe0">wn_log</a>(<span class="stringliteral">"init_funkey(key=%d,function=%p,text=%s\n"</span>,
<a name="l00151"></a>00151     function_key, function, text);
<a name="l00152"></a>00152 
<a name="l00153"></a>00153   <span class="comment">/*-------------------------------</span>
<a name="l00154"></a>00154 <span class="comment">    Initialize funkey[] variables</span>
<a name="l00155"></a>00155 <span class="comment">  ---------------------------------*/</span>
<a name="l00156"></a>00156   ndx = <a class="code" href="funkey_8c.html#d4535da47d531a01af51f8e1f668f71b">func_index</a>(function_key);       <span class="comment">/* Calculate index to array         */</span>
<a name="l00157"></a>00157   <a class="code" href="funkey_8c.html#2671827b6c4d9797278dee2e726ca446">funkey</a>[ndx].<a class="code" href="struct_f_u_n_c_t_i_o_n___h_a_n_d_l_e_r.html#3e8db967e672346352758b085e40f85c">function</a> = function;      <span class="comment">/* Copy pointer to funkey function  */</span>
<a name="l00158"></a>00158   <span class="keywordflow">if</span> (strlen(text) &gt; 6) text[6] = <span class="charliteral">'\0'</span>; <span class="comment">/* Check if text is not to long     */</span>
<a name="l00159"></a>00159   <a class="code" href="funkey_8c.html#2671827b6c4d9797278dee2e726ca446">funkey</a>[ndx].<a class="code" href="struct_f_u_n_c_t_i_o_n___h_a_n_d_l_e_r.html#9e454a9086e53245e3c22b89083929c1">text</a>     = text;          <span class="comment">/* Copy pointer to funkey text      */</span>
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="8573f78b328d6c8a4ab7f64db3ce1c45"></a><!-- doxytag: member="funkey.c::_cursvar" ref="8573f78b328d6c8a4ab7f64db3ce1c45" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SCREEN <a class="el" href="wn__shell_8c.html#8573f78b328d6c8a4ab7f64db3ce1c45">_cursvar</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2671827b6c4d9797278dee2e726ca446"></a><!-- doxytag: member="funkey.c::funkey" ref="2671827b6c4d9797278dee2e726ca446" args="[40]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_u_n_c_t_i_o_n___h_a_n_d_l_e_r.html">FUNCTION_HANDLER</a> <a class="el" href="funkey_8c.html#2671827b6c4d9797278dee2e726ca446">funkey</a>[40]<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="funkey_8c-source.html#l00053">53</a> of file <a class="el" href="funkey_8c-source.html">funkey.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="1885434eb8cac868c4cb88426049e3f0"></a><!-- doxytag: member="funkey.c::show_funkeys" ref="1885434eb8cac868c4cb88426049e3f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="funkey_8c.html#1885434eb8cac868c4cb88426049e3f0">show_funkeys</a> = FALSE<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="funkey_8c-source.html#l00054">54</a> of file <a class="el" href="funkey_8c-source.html">funkey.c</a>.</p>

<p>Referenced by <a class="el" href="funkey_8c-source.html#l00205">disp_funkeys()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1786668fb7644c3d46b73e4e387d8721"></a><!-- doxytag: member="funkey.c::w" ref="1786668fb7644c3d46b73e4e387d8721" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structwcb.html">WINDOW</a>* <a class="el" href="funkey_8c.html#1786668fb7644c3d46b73e4e387d8721">w</a> = NULL<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="funkey_8c-source.html#l00052">52</a> of file <a class="el" href="funkey_8c-source.html">funkey.c</a>.</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Dec 14 21:49:25 2007 for HVA-WIN by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
