<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<!-- This HTML file generated by cxref. -->
<!-- cxref program (c) Andrew M. Bishop 1995,96,97,98,99. -->

<!--
Cxref: cxref -DVIDEO -Id:/djgpp/include -Odoc/cxref -xref-all -Nvideo -index-all -html32 -html32-src v_curs.c
CPP  : gcc -E -C -dD -dI -DVIDEO -Id:/djgpp/include
-->

<HTML>

<HEAD>
<TITLE>Cross reference for v_curs.c of video.</TITLE>
</HEAD>

<BODY>

<h1><a name="file" href="v_curs.c.src.html">File v_curs.c</a></h1>
<b>RCS Header: v_curs.c Fri 10-27-2000 8:08:55 pm HvA V2.01 </b>
<p>

DESC: Low-level cursor routines for HVA_WINDOWS
HIST: 920223 V1.02
      20001027 V2.01 - Adapting for DJGPP
<p>

<hr>
<h2>Included Files</h2>

<ul>
<li><tt>#include &lt;d:/djgpp/include/bios.h&gt;</tt>
</ul>
<ul>
<li><tt><a href="v_video.h.html#file">#include &quot;v_video.h&quot;</a></tt>
</ul>

<hr>
<h2>External Variables</h2>

<b><a name="var-_cursvar">_cursvar</a></b><br>
<tt><a href="v_curs.c.src.html#line22">extern SCREEN _cursvar</a></tt><br>
<table>
<tr><td>Defined in:
<td><a href="v_init.c.html#var-_cursvar">v_init.c</a>

</table>

<hr>
<h2>Local Variables</h2>

<b><a name="var-cursorstart">cursorstart</a></b><br>
 Local varialbles 
<p>
<tt><a href="v_curs.c.src.html#line19">static int cursorstart</a></tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-v_cursoron">v_cursoron()</a>
<tr><td>&nbsp;
<td><a href="#func-v_get_cursor_shape">v_get_cursor_shape()</a>
<tr><td>&nbsp;
<td><a href="#func-v_set_cursor_shape">v_set_cursor_shape()</a>

</table>
<p>
<b><a name="var-cursorend">cursorend</a></b><br>
 Local varialbles 
<p>
<tt><a href="v_curs.c.src.html#line20">static int cursorend</a></tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-v_cursoron">v_cursoron()</a>
<tr><td>&nbsp;
<td><a href="#func-v_get_cursor_shape">v_get_cursor_shape()</a>
<tr><td>&nbsp;
<td><a href="#func-v_set_cursor_shape">v_set_cursor_shape()</a>

</table>

<hr>
<h2><a name="func-PDC_get_columns">Global Function PDC_get_columns()</a></h2>
v_get_columns()	- return width of screen/viewport.
<p>
<tt><a href="v_curs.c.src.html#line253">int PDC_get_columns ( void )</a></tt><br>
<table>
<tr><td>Calls:
<td colspan=2>atoi(), getenv(), int86()

</table>

<hr>
<h2><a name="func-v_cursoroff">Global Function v_cursoroff()</a></h2>
    FUNCTION: v_cursoroff()
     PURPOSE: Turn cursor off
 DESCRIPTION: Hide cursor by calling int 10h function 1.
              The first and last screen line of the cursor will
              be set to 20h. The values are out of the valid range
              so the cursor will disappear.
              First we will save the current cursor shape by calling
              get_cursor_shape()
     RETURNS: nothing
     HISTORY: 911230 V0.1
<p>
<tt><a href="v_curs.c.src.html#line81">void v_cursoroff ( void )</a></tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="v_video.h.html#file">v_video.h</a>
<tr><td>Calls:
<td><a href="v_curs.c.html#func-v_get_cursor_shape">v_get_cursor_shape()</a><td><a href="v_curs.c.html#func-v_get_cursor_shape">v_curs.c</a>
<tr><td>&nbsp;
<td colspan=2>int86()
<tr><td>Called by:
<td><a href="v_font.c.html#func-v_set_font">v_set_font()</a><td><a href="v_font.c.html#func-v_set_font">v_font.c</a>

</table>

<hr>
<h2><a name="func-v_cursoron">Global Function v_cursoron()</a></h2>
    FUNCTION: v_cursoron()
     PURPOSE: Turn cursor on
 DESCRIPTION: Show the cursor by calling int 10h function 01h.
              The first and last screenline of the cursor have
              previously been saved by get_cursor_shape().
     RETURNS: nothing
     HISTORY: 911230 V0.1
<p>
<tt><a href="v_curs.c.src.html#line101">void v_cursoron ( void )</a></tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="v_video.h.html#file">v_video.h</a>
<tr><td>Calls:
<td colspan=2>int86()
<tr><td>Called by:
<td><a href="v_init.c.html#func-endwin">endwin()</a><td><a href="v_init.c.html#func-endwin">v_init.c</a>
<tr><td>&nbsp;
<td><a href="v_curs.c.html#func-v_set_cursor_shape">v_set_cursor_shape()</a><td><a href="v_curs.c.html#func-v_set_cursor_shape">v_curs.c</a>
<tr><td>&nbsp;
<td><a href="v_font.c.html#func-v_set_font">v_set_font()</a><td><a href="v_font.c.html#func-v_set_font">v_font.c</a>
<tr><td>References Variables:
<td><a href="v_curs.c.html#var-cursorend">cursorend</a><td><a href="v_curs.c.html#var-cursorend">v_curs.c</a>
<tr><td>&nbsp;
<td><a href="v_curs.c.html#var-cursorstart">cursorstart</a><td><a href="v_curs.c.html#var-cursorstart">v_curs.c</a>

</table>

<hr>
<h2><a name="func-v_get_cursor_mode">Global Function v_get_cursor_mode()</a></h2>
v_get_cursor_mode() -
Gets the cursor type to begin in scan line startrow and end in
scan line endrow.  Both values should be 0-31.
<p>
<tt><a href="v_curs.c.src.html#line158">int v_get_cursor_mode ( void )</a></tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="v_video.h.html#file">v_video.h</a>
<tr><td>Calls:
<td><a href="v_adapt.c.html#func-getdosmemword">getdosmemword()</a><td><a href="v_adapt.c.html#func-getdosmemword">v_adapt.c</a>
<tr><td>Called by:
<td><a href="v_init.c.html#func-v_scr_open">v_scr_open()</a><td><a href="v_init.c.html#func-v_scr_open">v_init.c</a>

</table>

<hr>
<h2><a name="func-v_get_rows">Global Function v_get_rows()</a></h2>
v_get_rows()    - Return number of screen rows.
Returns the maximum number of rows supported by the display.
e.g.  25, 28, 43, 50, 60, 66...
<p>
<tt><a href="v_curs.c.src.html#line191">int v_get_rows ( void )</a></tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="v_video.h.html#file">v_video.h</a>
<tr><td>Calls:
<td><a href="v_adapt.c.html#func-getdosmembyte">getdosmembyte()</a><td><a href="v_adapt.c.html#func-getdosmembyte">v_adapt.c</a>
<tr><td>&nbsp;
<td colspan=2>atoi(), getenv()
<tr><td>Called by:
<td><a href="v_init.c.html#func-endwin">endwin()</a><td><a href="v_init.c.html#func-endwin">v_init.c</a>
<tr><td>&nbsp;
<td><a href="v_init.c.html#func-resize_screen">resize_screen()</a><td><a href="v_init.c.html#func-resize_screen">v_init.c</a>
<tr><td>&nbsp;
<td><a href="v_adapt.c.html#func-v_sanity_check">v_sanity_check()</a><td><a href="v_adapt.c.html#func-v_sanity_check">v_adapt.c</a>
<tr><td>&nbsp;
<td><a href="v_init.c.html#func-v_scr_open">v_scr_open()</a><td><a href="v_init.c.html#func-v_scr_open">v_init.c</a>
<tr><td>References Variables:
<td><a href="v_init.c.html#var-_cursvar">_cursvar</a><td><a href="v_init.c.html#var-_cursvar">v_init.c</a>

</table>

<hr>
<h2><a name="func-v_getcurpos">Global Function v_getcurpos()</a></h2>
<tt><a href="v_curs.c.src.html#line142">void v_getcurpos ( int* row, int* col )</a></tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="v_video.h.html#file">v_video.h</a>
<tr><td>Calls:
<td colspan=2>int86()

</table>

<hr>
<h2><a name="func-v_gotoxy">Global Function v_gotoxy()</a></h2>
v_gotoxy() - position hardware cursor at (x, y)
Moves the physical cursor to the desired address on the
screen. We don't optimize here -- on a PC, it takes more time
to optimize than to do things directly.
<p>
<tt><a href="v_curs.c.src.html#line173">int v_gotoxy ( int row, int col )</a></tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="v_video.h.html#file">v_video.h</a>
<tr><td>Calls:
<td colspan=2>int86()
<tr><td>Called by:
<td><a href="v_init.c.html#func-endwin">endwin()</a><td><a href="v_init.c.html#func-endwin">v_init.c</a>
<tr><td>References Variables:
<td><a href="v_init.c.html#var-_cursvar">_cursvar</a><td><a href="v_init.c.html#var-_cursvar">v_init.c</a>

</table>

<hr>
<h2><a name="func-v_set_cursor_shape">Global Function v_set_cursor_shape()</a></h2>
    FUNCTION: set_cursor_shape()
     PURPOSE: Set the shape of the cursor
 DESCRIPTION: Set the shape by setting the local variables 'cursorstart'
              and 'cursorend' and calling cursoron()
     RETURNS: nothing
     HISTORY: 910710 V0.1 - Intial version
<p>
<tt><a href="v_curs.c.src.html#line59">void v_set_cursor_shape ( int cstart, int cend )</a></tt><br>
<table>
<tr><td>Calls:
<td><a href="v_curs.c.html#func-v_cursoron">v_cursoron()</a><td><a href="v_curs.c.html#func-v_cursoron">v_curs.c</a>
<tr><td>References Variables:
<td><a href="v_curs.c.html#var-cursorend">cursorend</a><td><a href="v_curs.c.html#var-cursorend">v_curs.c</a>
<tr><td>&nbsp;
<td><a href="v_curs.c.html#var-cursorstart">cursorstart</a><td><a href="v_curs.c.html#var-cursorstart">v_curs.c</a>

</table>

<hr>
<h2><a name="func-v_setcurpos">Global Function v_setcurpos()</a></h2>
    FUNCTION: v_setcurpos()
     PURPOSE: Set cursor on (row,col).
 DESCRIPTION: Uses BIOS interrupt 10h, function 02h.
              The origin of the screen is (0,0).
     RETURNS: nothing
     HISTORY: 910710 V0.2 - Changed origin (1,1) to (0,0)
<p>
<tt><a href="v_curs.c.src.html#line123">void v_setcurpos ( int row, int col )</a></tt><br>
<table>
<tr><td>Calls:
<td colspan=2>int86()

</table>

<hr>
<h2><a name="func-v_get_cursor_shape">Local Function v_get_cursor_shape()</a></h2>
    FUNCTION: v_get_cursor_shape()
     PURPOSE: initialize cursor
 DESCRIPTION: Get cursor shape by calling int 10h, function 03h
              The shape will be stored int the local variables
              'cursorstart' and 'cursorend'
     RETURNS: nothing
     HISTORY: 911230 V0.1
<p>
<tt><a href="v_curs.c.src.html#line37">static void v_get_cursor_shape ( void )</a></tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="v_curs.c.html#file">v_curs.c</a>
<tr><td>Calls:
<td colspan=2>int86()
<tr><td>Called by:
<td><a href="v_curs.c.html#func-v_cursoroff">v_cursoroff()</a><td><a href="v_curs.c.html#func-v_cursoroff">v_curs.c</a>
<tr><td>References Variables:
<td><a href="v_curs.c.html#var-cursorend">cursorend</a><td><a href="v_curs.c.html#var-cursorend">v_curs.c</a>
<tr><td>&nbsp;
<td><a href="v_curs.c.html#var-cursorstart">cursorstart</a><td><a href="v_curs.c.html#var-cursorstart">v_curs.c</a>

</table>

</BODY>
</HTML>
